# ç¤¾äº¤åª’ä½“æ•°æ®åˆ†æå¹³å° - é¡¹ç›®æµç¨‹å›¾


## ğŸ”„ æ•°æ®å¤„ç†æµç¨‹å›¾

```mermaid
graph TD
    A[ç³»ç»Ÿå¯åŠ¨ init.py] --> B[åŠ è½½é…ç½®å’Œå†å²æ•°æ®]
    B --> C[åˆå§‹åŒ–çˆ¬è™«å®ä¾‹]
    C --> D[æ‰§è¡Œé¦–æ¬¡æ•°æ®æŠ“å–]
  
    D --> E{æ•°æ®æŠ“å–æˆåŠŸ?}
    E -->|å¤±è´¥| F[è®°å½•é”™è¯¯æ—¥å¿—]
    F --> G[ç­‰å¾…ä¸‹æ¬¡æ›´æ–°å‘¨æœŸ]
    E -->|æˆåŠŸ| H[æ•°æ®é¢„å¤„ç†å’Œæ¸…æ´—]
  
    H --> I[ä¿å­˜åˆ°CSVæ–‡ä»¶]
    I --> J[æ›´æ–°å†…å­˜ä¸­çš„çƒ­æœåˆ—è¡¨]
  
    J --> K[ç”Ÿæˆå¯è§†åŒ–å›¾è¡¨]
    K --> L[è°ƒç”¨AIè¿›è¡Œå†…å®¹åˆ†æ]
    L --> M[ç”ŸæˆAIåˆ†ææŠ¥å‘Š]
  
    M --> N[å¯åŠ¨Flask WebæœåŠ¡]
    N --> O[è®¾ç½®å®šæ—¶ä»»åŠ¡ æ¯5åˆ†é’Ÿ]
  
    O --> P[å®šæ—¶å™¨è§¦å‘]
    P --> Q[é‡æ–°æ‰§è¡Œæ•°æ®æŠ“å–]
    Q --> E
  
    N --> R[æ¥æ”¶å‰ç«¯APIè¯·æ±‚]
    R --> S{è¯·æ±‚ç±»å‹åˆ¤æ–­}
  
    S -->|çƒ­æœåˆ—è¡¨| T[è¿”å›zhihu_hot_nameæ•°æ®]
    S -->|çƒ­æœè¯¦æƒ…| U[æ ¹æ®IDè¿”å›è¯¦ç»†ä¿¡æ¯]
    S -->|æœç´¢è¯·æ±‚| V[å…³é”®è¯åŒ¹é…æœç´¢]
    S -->|çŠ¶æ€æ£€æŸ¥| W[è¿”å›ç³»ç»ŸçŠ¶æ€ä¿¡æ¯]
  
    T --> X[JSONå“åº”è¿”å›å‰ç«¯]
    U --> X
    V --> X
    W --> X
  
    G --> P
  
    style A fill:#e1f5fe
    style H fill:#e8f5e8
    style K fill:#fff3e0
    style L fill:#f3e5f5
    style N fill:#c8e6c9
    style X fill:#e3f2fd
```



## ğŸ¤– AIåˆ†æå¤„ç†æµç¨‹å›¾

```mermaid
graph TD
    A[AIåˆ†ææ¨¡å—å¯åŠ¨] --> B[è¯»å–CSVçƒ­æœæ•°æ®]
  
    B --> C[çƒ­æœåˆ—è¡¨åˆ†æ hot_list_analyse]
    C --> D[è¿æ¥Ollamaæœ¬åœ°AIæœåŠ¡]
    D --> E[è°ƒç”¨DeepSeek-R1:8Bæ¨¡å‹]
  
    E --> F[å‘é€çƒ­æœæ ‡é¢˜æ•°æ®ç»™AI]
    F --> G[AIè¿›è¡Œä¸»é¢˜åˆ†ç±»å’Œåˆ†æ]
    G --> H[ç”Ÿæˆåˆ†ç±»æ€»ç»“æŠ¥å‘Š]
    H --> I[ä¿å­˜ä¸ºMarkdownæ–‡æ¡£]
  
    B --> J[çƒ­æœå›ç­”åˆ†æ hot_answer_analyse]
    J --> K{æ£€æŸ¥æ˜¯å¦å·²ç”ŸæˆAIæ€»ç»“}
    K -->|å·²ç”Ÿæˆ| L[è·³è¿‡æ­¤æ¡ç›®]
    K -->|æœªç”Ÿæˆ| M[æå–çƒ­æœå›ç­”å†…å®¹]
  
    M --> N[å‘é€å›ç­”å†…å®¹ç»™AIæ¨¡å‹]
    N --> O[AIç”Ÿæˆå†…å®¹æ‘˜è¦]
    O --> P[æ ‡è®°ä¸ºå·²ç”Ÿæˆæ€»ç»“]
    P --> Q[ä¿å­˜AIæ€»ç»“åˆ°æ–‡æ¡£]
  
    L --> R[å¤„ç†ä¸‹ä¸€æ¡ç›®]
    Q --> R
    R --> S{æ˜¯å¦è¿˜æœ‰æœªå¤„ç†æ•°æ®?}
    S -->|æ˜¯| K
    S -->|å¦| T[AIåˆ†æå®Œæˆ]
  
    I --> U[å‰ç«¯å¯è®¿é—®åˆ†ææŠ¥å‘Š]
    T --> U
  
    style A fill:#f3e5f5
    style E fill:#fff3e0
    style H fill:#e8f5e8
    style O fill:#e3f2fd
    style T fill:#c8e6c9
```


## ğŸŒ å‰åç«¯äº¤äº’æµç¨‹å›¾

```mermaid
sequenceDiagram
    participant U as ç”¨æˆ·
    participant F as Vueå‰ç«¯
    participant A as Flask API
    participant D as æ•°æ®å±‚
    participant AI as AIæ¨¡å—
  
    U->>F: è®¿é—®ä¸»é¡µ
    F->>A: GET /api/hot (è·å–çƒ­æœåˆ—è¡¨)
    A->>D: è¯»å–zhihu_hot_name
    D-->>A: è¿”å›çƒ­æœæ•°æ®
    A-->>F: JSONå“åº” (çƒ­æœåˆ—è¡¨)
    F-->>U: å±•ç¤ºçƒ­æœåˆ—è¡¨ç•Œé¢
  
    U->>F: ç‚¹å‡»çƒ­æœé¡¹ç›®
    F->>A: GET /api/hot?id=xxx (è·å–è¯¦æƒ…)
    A->>D: æ ¹æ®HashæŸ¥æ‰¾è¯¦ç»†æ•°æ®
    D-->>A: è¿”å›çƒ­æœè¯¦æƒ…
    A-->>F: JSONå“åº” (è¯¦ç»†ä¿¡æ¯)
    F-->>U: è·³è½¬åˆ°åˆ†æé¡µé¢
  
    U->>F: æŸ¥çœ‹AIåˆ†æ
    F->>A: è·å–AIåˆ†ææ–‡æ¡£
    A->>D: è¯»å–Markdownåˆ†ææŠ¥å‘Š
    D-->>A: è¿”å›åˆ†æå†…å®¹
    A-->>F: æ¸²æŸ“Markdownå†…å®¹
    F-->>U: å±•ç¤ºAIåˆ†æç»“æœ
  
    Note over A,AI: åå°å®šæ—¶ä»»åŠ¡
    A->>AI: å®šæ—¶è§¦å‘AIåˆ†æ
    AI->>D: ç”Ÿæˆæ–°çš„åˆ†ææŠ¥å‘Š
    D-->>AI: ä¿å­˜åˆ†æç»“æœ
  
    U->>F: æœç´¢çƒ­æœ
    F->>A: GET /api/search?keyword=xxx
    A->>D: å…³é”®è¯åŒ¹é…æœç´¢
    D-->>A: è¿”å›åŒ¹é…ç»“æœ
    A-->>F: JSONå“åº” (æœç´¢ç»“æœ)
    F-->>U: å±•ç¤ºæœç´¢ç»“æœ
```


## ğŸ” é”™è¯¯å¤„ç†å’Œæ—¥å¿—æµç¨‹å›¾

```mermaid
graph TD
    A[ç³»ç»Ÿè¿è¡Œ] --> B{å‘ç”Ÿå¼‚å¸¸?}
    B -->|å¦| C[æ­£å¸¸æ‰§è¡Œ]
    C --> A
  
    B -->|æ˜¯| D[æ•è·å¼‚å¸¸ä¿¡æ¯]
    D --> E[ç¡®å®šå¼‚å¸¸ç±»å‹]
  
    E --> F{ç½‘ç»œè¯·æ±‚å¼‚å¸¸?}
    F -->|æ˜¯| G[å¯åŠ¨é‡è¯•æœºåˆ¶]
    G --> H[è®°å½•é‡è¯•æ—¥å¿—]
    H --> I{é‡è¯•æ¬¡æ•°è¶…é™?}
    I -->|å¦| J[ç­‰å¾…åé‡è¯•]
    J --> A
    I -->|æ˜¯| K[è®°å½•å¤±è´¥æ—¥å¿—]
  
    E --> L{æ•°æ®å¤„ç†å¼‚å¸¸?}
    L -->|æ˜¯| M[è®°å½•æ•°æ®é”™è¯¯]
    M --> N[è·³è¿‡å½“å‰æ•°æ®]
    N --> O[ç»§ç»­å¤„ç†ä¸‹ä¸€é¡¹]
  
    E --> P{AIåˆ†æå¼‚å¸¸?}
    P -->|æ˜¯| Q[è®°å½•AIæœåŠ¡é”™è¯¯]
    Q --> R[æ ‡è®°åˆ†æå¤±è´¥]
    R --> S[ä½¿ç”¨é»˜è®¤åˆ†æç»“æœ]
  
    E --> T{å…¶ä»–ç³»ç»Ÿå¼‚å¸¸?}
    T -->|æ˜¯| U[è®°å½•ç³»ç»Ÿé”™è¯¯]
    U --> V[å°è¯•ç³»ç»Ÿæ¢å¤]
  
    K --> W[å†™å…¥æ—¥å¿—æ–‡ä»¶]
    M --> W
    Q --> W
    U --> W
  
    W --> X[æ—¥å¿—æ ¼å¼åŒ–è¾“å‡º]
    X --> Y[æŒä¹…åŒ–å­˜å‚¨]
  
    O --> A
    S --> A
    V --> A
  
    style D fill:#ffebee
    style W fill:#fff3e0
    style Y fill:#e8f5e8
```

---

*æµç¨‹å›¾ç”Ÿæˆæ—¶é—´: 2025å¹´5æœˆ31æ—¥*
*ç‰ˆæœ¬: v1.0*
*å·¥å…·: Mermaid + Markdown*
